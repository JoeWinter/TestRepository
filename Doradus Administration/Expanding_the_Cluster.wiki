<div xmlns="http://www.w3.org/1999/xhtml">
  <div style="text-align: left;">[[TableOfContents|Table of Contents]] | [[Two_Node_Configuration|Previous]] | [[Multi-Data_Center_Deployments|Next]] | [[Index|Index]]</div>
  <div style="color: #999999; font-family: sans-serif; font-size: 10pt; text-align: left;">
    <span>[[Deployment_Guidelines|Deployment Guidelines]]</span> : Expanding the Cluster</div>
  <hr />
  <div style="color: #345A8A; font-family: &quot;Museo For Dell Regular&quot;; font-size: 13pt; font-weight: bold; margin-bottom: 12pt; margin-top: 12pt;"><span id="wwpID0E02N0HA">Expanding the Cluster</span></div>
  <div style="font-family: &quot;Museo Sans For Dell Regular&quot;; font-size: 11pt; margin-bottom: 12pt; margin-top: 12pt;"><span id="wwpID0E01N0HA">Additional nodes can be added to a cluster to increase processing and storage capacity. With a 3-node cluster, the recommended configuration is to use RF=2. Cassandra will distribute the data evenly within the cluster using a random partition scheme. An example 3-node cluster is illustrated below:</span></div>
  <div style="font-family: &quot;Museo Sans For Dell Regular&quot;; font-size: 11pt; margin-bottom: 12pt; margin-top: 12pt; text-align: center;"><span id="wwpID0E0ZN0HA">[[Image:Expanding_the_Cluster-Doradus_Administration_-_v2.1.1.10.1.jpg]]</span></div>
  <div style="color: #4F81BD; font-family: &quot;Museo Sans For Dell Regular&quot;; font-size: 9pt; font-weight: bold; margin-bottom: 10pt; margin-top: 0pt; text-align: center;"><span id="wwpID0E0YN0HA">Figure 5 – Expanded Cluster: 3 Nodes, RF=2</span></div>
  <div style="font-family: &quot;Museo Sans For Dell Regular&quot;; font-size: 11pt; margin-bottom: 12pt; margin-top: 12pt;"><span id="wwpID0E0XN0HA">In this configuration, every record is stored on a primary node according to its key, but RF=2 causes the record to be replicated to one other node. Hence, each node will have roughly 2/3’s of the database’s total records. Full database services are available if any single process or node fails. Each Doradus instance is configured to distribute requests among all Cassandra instances.</span></div>
  <div style="font-family: &quot;Museo Sans For Dell Regular&quot;; font-size: 11pt; margin-bottom: 12pt; margin-top: 12pt;"><span id="wwpID0E0WN0HA">Going further up the scalability ladder, below is an example of a 5-node configuration with RF=3:</span></div>
  <div style="font-family: &quot;Museo Sans For Dell Regular&quot;; font-size: 11pt; margin-bottom: 12pt; margin-top: 12pt; text-align: center;"><span id="wwpID0E0VN0HA">[[Image:Expanding_the_Cluster-Doradus_Administration_-_v2.1.1.10.2.jpg]]</span></div>
  <div style="color: #4F81BD; font-family: &quot;Museo Sans For Dell Regular&quot;; font-size: 9pt; font-weight: bold; margin-bottom: 10pt; margin-top: 0pt; text-align: center;"><span id="wwpID0E0UN0HA">Figure 6 – Expanded Cluster: 5 Nodes, RF=3</span></div>
  <div style="font-family: &quot;Museo Sans For Dell Regular&quot;; font-size: 11pt; margin-bottom: 12pt; margin-top: 12pt;"><span id="wwpID0E0TN0HA">In this example, RF=3 means that every record will be stored on a primary node and then replicated to two other nodes. This means each node has roughly 3/5’s of all data. Up to 2 nodes can fail and all database services will remain available. This provides increased scalability and fault tolerance.</span></div>
</div>