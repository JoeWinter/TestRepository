<div xmlns="http://www.w3.org/1999/xhtml">
  <div style="text-align: left;">[[TableOfContents|Table of Contents]] | [[Securing_the_Doradus_JMX_API|Previous]] | [[Configuring_Doradus_for_Clusters|Next]] | [[Index|Index]]</div>
  <div style="color: #999999; font-family: sans-serif; font-size: 10pt; text-align: left;">
    <span>[[Doradus_Configuration_and_Operation|Doradus Configuration and Operation]]</span> : <span>[[Doradus_Configuration_Files|Doradus Configuration Files]]</span> : <span>[[Doradus_Security_Options|Doradus Security Options]]</span> : Using a Secured Thrift API</div>
  <hr />
  <div style="color: #4F81BD; font-family: &quot;Museo For Dell Regular&quot;; font-size: 11pt; font-style: italic; font-weight: bold; margin-bottom: 0pt; margin-top: 10pt;"><span id="wwpID0E0DK0HA">Using a Secured Thrift API</span></div>
  <div style="font-family: &quot;Museo Sans For Dell Regular&quot;; font-size: 11pt; margin-bottom: 12pt; margin-top: 12pt;"><span id="wwpID0E0CK0HA">As described in the section </span><span style="font-weight: bold;">Securing the Thrift Protocol</span>, by default Cassandra’s Thrift API is not secured. Encrypted communication for this protocol is available, but Doradus currently does not support it. Instead, basic user id/password authentication can be added to the Thrift API.</div>
  <div style="font-family: &quot;Museo Sans For Dell Regular&quot;; font-size: 11pt; margin-bottom: 12pt; margin-top: 12pt;"><span id="wwpID0E0BK0HA">To use basic authentication, Doradus must be configured to use user ID and password that Cassandra will recognize. By default, in the Doradus script </span><span style="color: #4A442A; font-family: Consolas; font-size: 9.5pt; font-style: normal; font-weight: normal;">{doradus_home}/bin/doradus-server.bat</span> sets the following JVM define to identify the file that contains the Cassandra database user ID and password:</div>
  <div style="color: #4A442A; font-family: Consolas; font-size: 9.5pt; margin-bottom: 12pt; margin-left: 18pt; margin-top: 12pt;"><span id="wwpID0E0AK0HA">-Dpasswd.properties=passwd.properties</span></div>
  <div style="font-family: &quot;Museo Sans For Dell Regular&quot;; font-size: 11pt; margin-bottom: 12pt; margin-top: 12pt;"><span id="wwpID0E06J0HA">The </span><span style="color: #4A442A; font-family: Consolas; font-size: 9.5pt; font-style: normal; font-weight: normal;">passwd.properties</span> file resides in the <span style="color: #4A442A; font-family: Consolas; font-size: 9.5pt; font-style: normal; font-weight: normal;">{doradus_home}/config</span> folder. You should edit it to contain two lines that define the user ID and password:</div>
  <div style="color: #4A442A; font-family: Consolas; font-size: 9.5pt; margin-bottom: 12pt; margin-left: 18pt; margin-top: 12pt;"><span id="wwpID0E05J0HA">dbusername=Doradus</span></div>
  <div style="color: #4A442A; font-family: Consolas; font-size: 9.5pt; margin-bottom: 12pt; margin-left: 18pt; margin-top: 12pt;"><span id="wwpID0E04J0HA">dbpassword=changeit</span></div>
  <div style="font-family: &quot;Museo Sans For Dell Regular&quot;; font-size: 11pt; margin-bottom: 12pt; margin-top: 12pt;"><span id="wwpID0E03J0HA">The value of </span><span style="color: #4A442A; font-family: Consolas; font-size: 9.5pt; font-style: normal; font-weight: normal;">dbusername</span> and <span style="color: #4A442A; font-family: Consolas; font-size: 9.5pt; font-style: normal; font-weight: normal;">dbpassword</span> should match the user ID/password you defined in Cassandra’s configuration, as described in the section <span style="font-weight: bold;">Securing the Thrift Protocol</span>.</div>
  <div style="font-family: &quot;Museo Sans For Dell Regular&quot;; font-size: 11pt; margin-bottom: 12pt; margin-top: 12pt;"><span id="wwpID0E02J0HA">Next, tell Doradus to use the an authentication class by setting the </span><span style="color: #4A442A; font-family: Consolas; font-size: 9.5pt; font-style: normal; font-weight: normal;">dbauthenticator</span> parameter in the <span style="color: #4A442A; font-family: Consolas; font-size: 9.5pt; font-style: normal; font-weight: normal;">doradus.yaml</span> file. Example:</div>
  <div style="color: #4A442A; font-family: Consolas; font-size: 9.5pt; margin-bottom: 12pt; margin-left: 18pt; margin-top: 12pt;"><span id="wwpID0E01J0HA">dbauthenticator: com.dell.doradus.service.db.SimpleAuthenticator</span></div>
  <div style="font-family: &quot;Museo Sans For Dell Regular&quot;; font-size: 11pt; margin-bottom: 12pt; margin-top: 12pt;"><span id="wwpID0E0ZJ0HA">Once these parameters are set and Cassandra is appropriately configured, Doradus will use this authentication mechanism for all connections using the Thrift API.</span></div>
</div>